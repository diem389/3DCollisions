
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>Frustum Â· GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.1.1">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="point_in_frustum.html" />
    
    
    <link rel="prev" href="debug_info.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../Chapter0/">
            
                <a href="../Chapter0/">
            
                    
                    New Repo
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../Chapter0/application.html">
            
                <a href="../Chapter0/application.html">
            
                    
                    Applicaiton.cs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../Chapter0/program.html">
            
                <a href="../Chapter0/program.html">
            
                    
                    Program.cs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../Chapter0/samples.html">
            
                <a href="../Chapter0/samples.html">
            
                    
                    Samples
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../Chapter0/console.html">
            
                <a href="../Chapter0/console.html">
            
                    
                    Console
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../Chapter0/window.html">
            
                <a href="../Chapter0/window.html">
            
                    
                    Windowed
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../Chapter1/">
            
                <a href="../Chapter1/">
            
                    
                    Shapes And Points
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../Chapter1/point.html">
            
                <a href="../Chapter1/point.html">
            
                    
                    Point
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../Chapter1/sphere.html">
            
                <a href="../Chapter1/sphere.html">
            
                    
                    Sphere
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../Chapter1/point_in_sphere.html">
            
                <a href="../Chapter1/point_in_sphere.html">
            
                    
                    Point in Sphere
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../Chapter1/closest_point_sphere.html">
            
                <a href="../Chapter1/closest_point_sphere.html">
            
                    
                    Closest point on Sphere
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../Chapter1/aabb.html">
            
                <a href="../Chapter1/aabb.html">
            
                    
                    AABB
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../Chapter1/point_in_aabb.html">
            
                <a href="../Chapter1/point_in_aabb.html">
            
                    
                    Point in AABB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="../Chapter1/closest_point_aabb.html">
            
                <a href="../Chapter1/closest_point_aabb.html">
            
                    
                    Closest point on AABB
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../Chapter1/plane.html">
            
                <a href="../Chapter1/plane.html">
            
                    
                    Plane
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../Chapter1/point_on_plane.html">
            
                <a href="../Chapter1/point_on_plane.html">
            
                    
                    Point on Plane
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2" data-path="../Chapter1/closest_point_on_plane.html">
            
                <a href="../Chapter1/closest_point_on_plane.html">
            
                    
                    Closest point on Plane
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.3" data-path="../Chapter1/three_plane_intersection.html">
            
                <a href="../Chapter1/three_plane_intersection.html">
            
                    
                    3 Plane Intersection
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../Chapter1/line.html">
            
                <a href="../Chapter1/line.html">
            
                    
                    Line
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.5.1" data-path="../Chapter1/point_on_line.html">
            
                <a href="../Chapter1/point_on_line.html">
            
                    
                    Point on line
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.2" data-path="../Chapter1/closest_point_on_line.html">
            
                <a href="../Chapter1/closest_point_on_line.html">
            
                    
                    Closes point on Line
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../Chapter1/ray.html">
            
                <a href="../Chapter1/ray.html">
            
                    
                    Ray
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.6.1" data-path="../Chapter1/point_on_ray.html">
            
                <a href="../Chapter1/point_on_ray.html">
            
                    
                    Point on ray
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.2" data-path="../Chapter1/closest_point_on_ray.html">
            
                <a href="../Chapter1/closest_point_on_ray.html">
            
                    
                    Closest point on Ray
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../Intermission0/">
            
                <a href="../Intermission0/">
            
                    
                    Intermission
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../Chapter2/">
            
                <a href="../Chapter2/">
            
                    
                    Static Intersections
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../Chapter2/static_sphere_sphere.html">
            
                <a href="../Chapter2/static_sphere_sphere.html">
            
                    
                    Sphere-Sphere
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../Chapter2/static_sphere_aabb.html">
            
                <a href="../Chapter2/static_sphere_aabb.html">
            
                    
                    Sphere-AABB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../Chapter2/static_sphere_plane.html">
            
                <a href="../Chapter2/static_sphere_plane.html">
            
                    
                    Sphere-Plane
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../Chapter2/static_aabb_aabb.html">
            
                <a href="../Chapter2/static_aabb_aabb.html">
            
                    
                    AABB-AABB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../Chapter2/static_aabb_plane.html">
            
                <a href="../Chapter2/static_aabb_plane.html">
            
                    
                    AABB-Plane
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../Chapter2/static_plane_plane.html">
            
                <a href="../Chapter2/static_plane_plane.html">
            
                    
                    Plane-Plane
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../Chapter3/">
            
                <a href="../Chapter3/">
            
                    
                    Lines and Rays
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../Chapter3/raycasting.html">
            
                <a href="../Chapter3/raycasting.html">
            
                    
                    Ray casting
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1.1" data-path="../Chapter3/raycast_sphere.html">
            
                <a href="../Chapter3/raycast_sphere.html">
            
                    
                    Against Sphere
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.1.2" data-path="../Chapter3/raycast_aabb.html">
            
                <a href="../Chapter3/raycast_aabb.html">
            
                    
                    Against AABB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.1.3" data-path="../Chapter3/raycast_plane.html">
            
                <a href="../Chapter3/raycast_plane.html">
            
                    
                    Against Plane
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../Chapter3/linetesting.html">
            
                <a href="../Chapter3/linetesting.html">
            
                    
                    Line testing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.2.1" data-path="../Chapter3/line_sphere.html">
            
                <a href="../Chapter3/line_sphere.html">
            
                    
                    Against Sphere
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2.2" data-path="../Chapter3/line_aabb.html">
            
                <a href="../Chapter3/line_aabb.html">
            
                    
                    Against AABB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2.3" data-path="../Chapter3/line_plane.html">
            
                <a href="../Chapter3/line_plane.html">
            
                    
                    Against Plane
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../Chapter2/dynamic.html">
            
                <a href="../Chapter2/dynamic.html">
            
                    
                    Dynamic Intersections
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../Chapter2/dynamic_aabb_aabb.html">
            
                <a href="../Chapter2/dynamic_aabb_aabb.html">
            
                    
                    Time Slicing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../Chapter2/dynamic_sphere_sphere.html">
            
                <a href="../Chapter2/dynamic_sphere_sphere.html">
            
                    
                    Linear Impact Search
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../Chapter2/dynamic_sphere_aabb.html">
            
                <a href="../Chapter2/dynamic_sphere_aabb.html">
            
                    
                    Binary Impact Search
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../Chapter2/dynamic_sphere_plane.html">
            
                <a href="../Chapter2/dynamic_sphere_plane.html">
            
                    
                    Multiple Moving Objects
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../Chapter4/">
            
                <a href="../Chapter4/">
            
                    
                    3D Models
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../Chapter4/triangle.html">
            
                <a href="../Chapter4/triangle.html">
            
                    
                    Triangle
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1" data-path="../Chapter4/point_in_triangle.html">
            
                <a href="../Chapter4/point_in_triangle.html">
            
                    
                    Point in Triangle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.2" data-path="../Chapter4/closest_point_to_triangle.html">
            
                <a href="../Chapter4/closest_point_to_triangle.html">
            
                    
                    Closest point to triangle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.3" data-path="../Chapter4/sphere_to_triangle.html">
            
                <a href="../Chapter4/sphere_to_triangle.html">
            
                    
                    Sphere-Triangle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.4" data-path="../Chapter4/aabb-triangle.html">
            
                <a href="../Chapter4/aabb-triangle.html">
            
                    
                    AABB-Triangle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.5" data-path="../Chapter4/plane-triangle.html">
            
                <a href="../Chapter4/plane-triangle.html">
            
                    
                    Plane-Triangle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.6" data-path="../Chapter4/generic_sat.html">
            
                <a href="../Chapter4/generic_sat.html">
            
                    
                    Generic SAT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.7" data-path="../Chapter4/triangle-triangle.html">
            
                <a href="../Chapter4/triangle-triangle.html">
            
                    
                    Triangle-Triangle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.8" data-path="../Chapter4/robust_sat.html">
            
                <a href="../Chapter4/robust_sat.html">
            
                    
                    Robust SAT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.9" data-path="../Chapter4/raycast_triangle.html">
            
                <a href="../Chapter4/raycast_triangle.html">
            
                    
                    Raycast Triangle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.10" data-path="../Chapter4/line_test_triangle.html">
            
                <a href="../Chapter4/line_test_triangle.html">
            
                    
                    Line test Triangle
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../Chapter4/containers.html">
            
                <a href="../Chapter4/containers.html">
            
                    
                    Broad-Phase Collision
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.2.1" data-path="../Chapter4/addingtriangles_to_model_md.html">
            
                <a href="../Chapter4/addingtriangles_to_model_md.html">
            
                    
                    Adding Triangles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.2" data-path="../Chapter4/aabb.html">
            
                <a href="../Chapter4/aabb.html">
            
                    
                    AABB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.3" data-path="../Chapter4/sphere.html">
            
                <a href="../Chapter4/sphere.html">
            
                    
                    Sphere
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../Chapter4/model_test.html">
            
                <a href="../Chapter4/model_test.html">
            
                    
                    Collision Tests
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.3.1" data-path="../Chapter4/model_test_sphere.html">
            
                <a href="../Chapter4/model_test_sphere.html">
            
                    
                    Sphere
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.2" data-path="../Chapter4/m_test_aabb.html">
            
                <a href="../Chapter4/m_test_aabb.html">
            
                    
                    AABB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.3" data-path="../Chapter4/model_test_plane.html">
            
                <a href="../Chapter4/model_test_plane.html">
            
                    
                    Plane
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.4" data-path="../Chapter4/model_test_triangle.html">
            
                <a href="../Chapter4/model_test_triangle.html">
            
                    
                    Triangle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.5" data-path="../Chapter4/model_test_ray.html">
            
                <a href="../Chapter4/model_test_ray.html">
            
                    
                    Ray
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../Chapter4/raycast_model.html">
            
                <a href="../Chapter4/raycast_model.html">
            
                    
                    Raycast Model
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.4.1" data-path="../Chapter4/bvh.html">
            
                <a href="../Chapter4/bvh.html">
            
                    
                    BVH - Node
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.2" data-path="../Chapter4/bvh_split.html">
            
                <a href="../Chapter4/bvh_split.html">
            
                    
                    BVH - Split
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.3" data-path="../Chapter4/bch_shake.html">
            
                <a href="../Chapter4/bch_shake.html">
            
                    
                    BVH - Shake
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.4" data-path="../Chapter4/bvh_raycast.html">
            
                <a href="../Chapter4/bvh_raycast.html">
            
                    
                    BVH - Raycast
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../Chapter5/">
            
                <a href="../Chapter5/">
            
                    
                    Scene Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../Chapter5/hierarchy.html">
            
                <a href="../Chapter5/hierarchy.html">
            
                    
                    Hierarchy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../Chapter5/make_a_scene.html">
            
                <a href="../Chapter5/make_a_scene.html">
            
                    
                    Making a scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../Chapter5/octree.html">
            
                <a href="../Chapter5/octree.html">
            
                    
                    Octree
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.3.1" data-path="../Chapter5/dynamic_objects.html">
            
                <a href="../Chapter5/dynamic_objects.html">
            
                    
                    Octree-Node
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.2" data-path="../Chapter5/raycast.html">
            
                <a href="../Chapter5/raycast.html">
            
                    
                    Raycast
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../Chapter5/picking.html">
            
                <a href="../Chapter5/picking.html">
            
                    
                    Picking
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../Chapter5/other_structures.html">
            
                <a href="../Chapter5/other_structures.html">
            
                    
                    Other structures
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="./">
            
                <a href="./">
            
                    
                    Camera
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="debug_info.html">
            
                <a href="debug_info.html">
            
                    
                    Debug Info
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.10.2" data-path="frustum.html">
            
                <a href="frustum.html">
            
                    
                    Frustum
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.1" data-path="point_in_frustum.html">
            
                <a href="point_in_frustum.html">
            
                    
                    Point in Frustum
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.2" data-path="sphere_in_frustum.html">
            
                <a href="sphere_in_frustum.html">
            
                    
                    Sphere in Frustum
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3" data-path="aabb_in_frustum.html">
            
                <a href="aabb_in_frustum.html">
            
                    
                    AABB in Frustum
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="culling.html">
            
                <a href="culling.html">
            
                    
                    Culling
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../Chapter7/">
            
                <a href="../Chapter7/">
            
                    
                    Further Research
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../Chapter7/obb.html">
            
                <a href="../Chapter7/obb.html">
            
                    
                    OBB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../Chapter7/capsule.html">
            
                <a href="../Chapter7/capsule.html">
            
                    
                    Capsule
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../Chapter7/elipsoid.html">
            
                <a href="../Chapter7/elipsoid.html">
            
                    
                    Elipsoid
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="../Chapter7/cylinder.html">
            
                <a href="../Chapter7/cylinder.html">
            
                    
                    Cylinder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="../Chapter7/engines.html">
            
                <a href="../Chapter7/engines.html">
            
                    
                    Physics Engines
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Frustum</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="frustum">Frustum</h1>
<p>The frustum structure is actually an acceleration structure. It&apos;s a primitive shape (Like an AABB or any other primitive). A frustum structure is usually built out of a view matrix as a series of 6 planes.</p>
<p><img src="_FRUSTUM.GIF" alt="_FRUSTUM.GIF"></p>
<h2 id="the-algorithm">The Algorithm</h2>
<p>If this all sounds a bit familiar, it should. We have actually done this exact same thing when we <a href="https://gdbooks.gitbooks.io/legacyopengl/content/Chapter8/frustum.html" target="_blank">made a frustum in OpenGL</a>.</p>
<p>To extract the planes of a frustum, you need the viewProjection matrix, which you get by multiplying the projection and view matrices together. The plane values can be found by adding or subtracting one of the first three rows of the viewProjection matrix from the fourth row.</p>
<p>Our camera class already has the ViewMatrix, but not the projection matrix! Let&apos;s fix that. Add the following getter to your <code>Camera</code> class. This getter will simply query OpenGL for the current projection matrix. This is similar to what we did in the picking example.</p>
<pre><code class="lang-cs">
<span class="hljs-keyword">public</span> Matrix4 ProjectionMatrix {
    <span class="hljs-keyword">get</span> {
        <span class="hljs-keyword">float</span>[] rawProjection = <span class="hljs-keyword">new</span> <span class="hljs-keyword">float</span>[<span class="hljs-number">16</span>];
        GL.GetFloat(GetPName.ProjectionMatrix, rawProjection);
        <span class="hljs-keyword">return</span> Matrix4.Transpose(<span class="hljs-keyword">new</span> Matrix4(rawProjection));
    }
}
</code></pre>
<p>Now that we have the projection matrix, we can resume extracting the planes</p>
<ul>
<li><strong>Left Plane</strong> Row 1 (addition)</li>
<li><strong>Right Plane</strong> Row 1 Negated (subtraction)</li>
<li><strong>Bottom Plane</strong> Row 2 (addition)</li>
<li><strong>Top Plane</strong> Row 2 Negated (subtraction)</li>
<li><strong>Near Plane</strong> Row 3 (addition)</li>
<li><strong>Far Plane</strong> Row 3 Negated (subtraction)</li>
</ul>
<p>So, assuming that matrix <code>mp</code> is the view-projection matrix, you could get the left and right planes like so:</p>
<pre><code class="lang-cs">Matrix4 mv =  ProjectionMatrix * ViewMatrix;

Vector4 row1 = <span class="hljs-keyword">new</span> Vector4(mv[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>], mv[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], mv[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>], mv[<span class="hljs-number">0</span>, <span class="hljs-number">3</span>]);
Vector4 row4 = <span class="hljs-keyword">new</span> Vector4(mv[<span class="hljs-number">3</span>, <span class="hljs-number">0</span>], mv[<span class="hljs-number">3</span>, <span class="hljs-number">1</span>], mv[<span class="hljs-number">3</span>, <span class="hljs-number">2</span>], mv[<span class="hljs-number">3</span>, <span class="hljs-number">3</span>]);

Vector4 p1 = row4 + row1;
Vector4 p2 = row4 - row1;

Plane left = <span class="hljs-keyword">new</span> Plane();
left.n = <span class="hljs-keyword">new</span> Vector3();
left.n.X = p1.X;
left.n.Y = p1.Y;
left.n.Z = p1.Z;
left.d = p1.w;

Plane right = <span class="hljs-keyword">new</span> Plane();
right.n = <span class="hljs-keyword">new</span> Vector3();
right.n.X = p2.X;
right.n.Y = p2.Y;
right.n.Z = p2.Z;
right.d = p2.w;
</code></pre>
<h2 id="fixing-some-things">Fixing some things</h2>
<p>Originally, the <code>Frustum</code> getter was a <strong>On Your Own</strong> todo. However, i noticed a pretty big error with the way we did it previously on our OpenGL Implementation. So, i&apos;m just going to provide the code for it and explain what was wrong. Add the following code to the <code>Camera</code> class:</p>
<pre><code class="lang-cs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Plane <span class="hljs-title">FromNumbers</span>(<span class="hljs-params">Vector4 numbers</span>) </span>{
            Vector3 abc = <span class="hljs-keyword">new</span> Vector3(numbers.X, numbers.Y, numbers.Z);
    <span class="hljs-keyword">float</span> mag = abc.Length();
    abc.Normalize();

    Plane p = <span class="hljs-keyword">new</span> Plane();
    p.Normal = abc;
    p.Distance = numbers.W / mag;
    <span class="hljs-keyword">return</span> p;
}

<span class="hljs-keyword">public</span> Plane[] Frustum {
    <span class="hljs-keyword">get</span> {
        Plane[] frustum = <span class="hljs-keyword">new</span> Plane[<span class="hljs-number">6</span>];

        Matrix4 vp = ProjectionMatrix * ViewMatrix;

        Vector4 row1 = <span class="hljs-keyword">new</span> Vector4(vp[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>], vp[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], vp[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>], vp[<span class="hljs-number">0</span>, <span class="hljs-number">3</span>]);
        Vector4 row2 = <span class="hljs-keyword">new</span> Vector4(vp[<span class="hljs-number">1</span>, <span class="hljs-number">0</span>], vp[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>], vp[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], vp[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>]);
        Vector4 row3 = <span class="hljs-keyword">new</span> Vector4(vp[<span class="hljs-number">2</span>, <span class="hljs-number">0</span>], vp[<span class="hljs-number">2</span>, <span class="hljs-number">1</span>], vp[<span class="hljs-number">2</span>, <span class="hljs-number">2</span>], vp[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);
        Vector4 row4 = <span class="hljs-keyword">new</span> Vector4(vp[<span class="hljs-number">3</span>, <span class="hljs-number">0</span>], vp[<span class="hljs-number">3</span>, <span class="hljs-number">1</span>], vp[<span class="hljs-number">3</span>, <span class="hljs-number">2</span>], vp[<span class="hljs-number">3</span>, <span class="hljs-number">3</span>]);

        frustum[<span class="hljs-number">0</span>] = FromNumbers(row4 + row1);
        frustum[<span class="hljs-number">1</span>] = FromNumbers(row4 - row1);
        frustum[<span class="hljs-number">2</span>] = FromNumbers(row4 + row2);
        frustum[<span class="hljs-number">3</span>] = FromNumbers(row4 - row2);
        frustum[<span class="hljs-number">4</span>] = FromNumbers(row4 + row3);
        frustum[<span class="hljs-number">5</span>] = FromNumbers(row4 - row3);

        <span class="hljs-keyword">return</span> frustum;
    }
}
</code></pre>
<p>PReviously, the <code>FromNumbers</code> function was busted. It was not setting the plane normal to a normalized number. Also, when normalizing, you MUST divide the W component by the length of the XYZ components. PReviously, that was not being done either. The above version is correct! In order for the below unit test to pass, you have to populate your frustum as follows:</p>
<ul>
<li>frustum[0] = left plane</li>
<li>frustum[1] = right plane</li>
<li>frustum[2] = bottom plane</li>
<li>frustum[3] = top plane</li>
<li>frustum[4] = near plane</li>
<li>frustum[5] = far plane</li>
</ul>
<h3 id="unit-test">Unit Test</h3>
<p>Add the following unit test at the bottom of the <code>Initialize</code> function of <code>CameraSample</code></p>
<pre><code class="lang-cs">Plane[] frustum = <span class="hljs-keyword">new</span> Plane[<span class="hljs-number">6</span>];
frustum[<span class="hljs-number">0</span>] = <span class="hljs-keyword">new</span> Plane(<span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">0.2381448</span>f, <span class="hljs-number">-0.2721655</span>f, <span class="hljs-number">-1.598973</span>f), <span class="hljs-number">44.82524</span>f);
frustum[<span class="hljs-number">1</span>] = <span class="hljs-keyword">new</span> Plane(<span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">-1.598973</span>f, <span class="hljs-number">-0.2721655</span>f, <span class="hljs-number">0.2381448</span>f), <span class="hljs-number">44.82524</span>f);
frustum[<span class="hljs-number">2</span>] = <span class="hljs-keyword">new</span> Plane(<span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">-1.013747</span>f, <span class="hljs-number">1.394501</span>f, <span class="hljs-number">-1.013747</span>f), <span class="hljs-number">36.74234</span>f);
frustum[<span class="hljs-number">3</span>] = <span class="hljs-keyword">new</span> Plane(<span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">-0.3470805</span>f, <span class="hljs-number">-1.938832</span>f, <span class="hljs-number">-0.3470805</span>f), <span class="hljs-number">36.74234</span>f);
frustum[<span class="hljs-number">4</span>] = <span class="hljs-keyword">new</span> Plane(<span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">-1.360841</span>f, <span class="hljs-number">-0.5443366</span>f, <span class="hljs-number">-1.360841</span>f), <span class="hljs-number">73.4747</span>f);
frustum[<span class="hljs-number">5</span>] = <span class="hljs-keyword">new</span> Plane(<span class="hljs-keyword">new</span> Vector3((<span class="hljs-keyword">float</span>)<span class="hljs-number">1.364946E-05</span>, (<span class="hljs-keyword">float</span>)<span class="hljs-number">5.453825E-06</span>, (<span class="hljs-keyword">float</span>)<span class="hljs-number">1.364946E-05</span>), <span class="hljs-number">923.8687</span>f);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">6</span>; ++i) {
    <span class="hljs-keyword">if</span> (camera.Frustum[i].Normal != frustum[i].Normal) {
        <span class="hljs-keyword">if</span> (Vector3.Normalize(camera.Frustum[i].Normal) == Vector3.Normalize(frustum[i].Normal)) {
            System.Console.WriteLine(<span class="hljs-string">&quot;\tLooks like the normal of your frustum plane is NOT NORMALIZED!&quot;</span>);
        }
        <span class="hljs-keyword">else</span> {
            System.Console.WriteLine(<span class="hljs-string">&quot;Detected error in frustum, plane &quot;</span> + i);
        }
        System.Console.WriteLine(<span class="hljs-string">&quot;\tExpected: &quot;</span> + camera.Frustum[i].Normal);
        System.Console.WriteLine(<span class="hljs-string">&quot;\tGot: &quot;</span> + frustum[i].Normal);
    }
    <span class="hljs-keyword">if</span> (System.Math.Abs(camera.Frustum[i].Distance - frustum[i].Distance) &gt; <span class="hljs-number">0.0001</span>f) {
        System.Console.WriteLine(<span class="hljs-string">&quot;Wrong distance for plane: &quot;</span> + i);
        System.Console.WriteLine(<span class="hljs-string">&quot;\tExpected: &quot;</span> + camera.Frustum[i].Distance);
        System.Console.WriteLine(<span class="hljs-string">&quot;\tGot: &quot;</span> + frustum[i].Distance);
    }
}
</code></pre>
<p>All tests should pass before moving on to the next section. </p>
<p>Sidenote, <a href="http://www.flipcode.com/archives/Frustum_Culling.shtml" target="_blank">This Article</a> is generally considered the go-to resource on frsutum culling.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="debug_info.html" class="navigation navigation-prev " aria-label="Previous page: Debug Info">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="point_in_frustum.html" class="navigation navigation-next " aria-label="Next page: Point in Frustum">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Frustum","level":"1.10.2","depth":2,"next":{"title":"Point in Frustum","level":"1.10.2.1","depth":3,"path":"Chapter6/point_in_frustum.md","ref":"Chapter6/point_in_frustum.md","articles":[]},"previous":{"title":"Debug Info","level":"1.10.1","depth":2,"path":"Chapter6/debug_info.md","ref":"Chapter6/debug_info.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["mathjax","youtube"],"pluginsConfig":{"mathjax":{"forceSVG":false,"version":"2.6-latest"},"youtube":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"letter","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Chapter6/frustum.md","mtime":"2016-08-24T03:48:56.133Z","type":"markdown"},"gitbook":{"version":"3.1.1","time":"2016-10-03T17:51:33.268Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="https://cdn.mathjax.org/mathjax/2.6-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-mathjax/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

